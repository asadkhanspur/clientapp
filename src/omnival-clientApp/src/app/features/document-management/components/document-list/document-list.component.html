<section class="checkList">
  <div class="row">
    <div class="col-12">
      <div class="generalFeeTabDiv" id="style-2">

        <div class="profile-filter">
          <div class="row">
            <div class="col bg-lgray left">
              <div class="row">
                <div class="searchBarApp col-12">
                  <input placeholder="Search by Document Name, Description, Document Category and Document Type"
                    name="nothing21" #searchInput class="form-control" [(ngModel)]="docList">
                </div>
              </div>
            </div>
            <div class="col-2 bg-lgray text-center right">
              <div class="fDiv" dropdown>
                <button id="button-basic" dropdownToggle type="button" class="btn btn-primary dropdown-toggle"
                  aria-controls="dropdown-basic" *ngIf="permissions.OMDCC == true">
                  Add Document <span class="caret"></span>
                </button>
                <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu" role="menu" aria-labelledby="button-basic">
                  <li role="menuitem" (click)="openTemplateSlider()"><a class="dropdown-item"
                      href="JavaScript:void(0);">Template</a></li>
                  <li role="menuitem" (click)="openUploadSlider(0)"><a class="dropdown-item"
                      href="JavaScript:void(0);">Upload</a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <table class="table table-bordered">
          <thead class="thead-dark">
            <tr>
              <th scope="col" width="20%" (click)="sort('documentName')"><i class="fa fa-sort" aria-hidden="true"></i>
                Document Name</th>
              <th scope="col" width="25%" (click)="sort('documentDescription')"><i class="fa fa-sort"
                  aria-hidden="true"></i> Description
              </th>
              <th scope="col" width="15%" (click)="sort('documentClassificationTypeName')"><i class="fa fa-sort"
                  aria-hidden="true"></i> Document Format</th>
              <th scope="col" width="15%" (click)="sort('documentCategoryTypeName')"><i class="fa fa-sort"
                  aria-hidden="true"></i> Document Category</th>
              <th scope="col" width="15%" (click)="sort('documentTypeName')"><i class="fa fa-sort"
                  aria-hidden="true"></i> Document Type</th>
              <th scope="col" width="5%"><i aria-hidden="true"></i> Active</th>
              <!-- Below is the old code in which sorting is there-->
              <!-- <th scope="col" (click)="sort('isEnable')" ><i class="fa fa-sort" aria-hidden="true"></i> Active</th> -->
              <th scope="col" width="5%"> Actions</th>
            </tr>
          </thead>
          <tbody>

            <tr *ngFor="let data of clientDocList |filter:docList">
              <td>
                <h3 class="tdVHeading bColor pointer" (click)="viewDocTemplate(data)">
                  {{data.documentName}} </h3>
              </td>

              <td>
                <p class="para"> {{data.documentDescription}} </p>
              </td>

              <td>
                <h3 class="subHeading">{{data.documentClassificationTypeName}}</h3>
              </td>

              <td>
                <h3 class="subHeading">{{data.documentCategoryTypeName}}</h3>
              </td>

              <td>
                <h3 class="subHeading">{{data.documentTypeName}}</h3>
              </td>

              <td>
                <mat-slide-toggle color="primary" name="nothing22" [(ngModel)]="data.isEnabled"
                  (change)="onChangeEnabled($event,data)">
                </mat-slide-toggle>

              </td>

              <td>
                <div class="editButtonDrop">
                  <div class="btn-group">
                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"
                      aria-haspopup="true" aria-expanded="false">
                      <i class="fa fa-ellipsis-v" aria-hidden="true"></i>
                    </button>
                    <div class="dropdown-menu dropdown-menu-right">
                      <button class="dropdown-item" type="button" (click)="onCloneClick(data)"
                        [hidden]="data.documentClassificationTypeId == 2"
                        *ngIf="permissions.OMDCC == true">Clone</button>
                      <button class="dropdown-item" type="button" (click)="previewTemplate(data.documentId)"
                        [hidden]="data.documentClassificationTypeId == 2" *ngIf="permissions.OMDPTV == true">Preview
                        Template</button>
                      <button class="dropdown-item" type="button" (click)="downloadTemplate(data)"
                        *ngIf="permissions.OMDDV == true">Download</button>
                      <button class="dropdown-item" type="button" (click)="onEditClick(data)"
                        *ngIf="permissions.OMDCU == true">Edit</button>
                      <button class="dropdown-item" type="button" (click)="openModalWithClass(template)"
                        *ngIf="permissions.OMDCD == true">Delete</button>

                      <button class="dropdown-item" type="button" (click)="naviagteDocSetting(data)"
                        *ngIf="data.documentCategoryTypeId == 2 && permissions.OMDCDSV == true">Configure Document
                        Settings</button>
                    </div>
                  </div>
                </div>



                <!-- Delete Popup Html -->
                <ng-template #template>
                  <div class="modal-header">
                    <h4 class="modal-title pull-left">Confirmation</h4>
                    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <div class="deleteModal">
                      <p><i class="fa fa-info-circle" aria-hidden="true"></i> An order document setting exists for this
                        document and will be removed as well. Are you sure you still want to delete this document?</p>

                      <div class="bothButons">
                        <ul>
                          <li>
                            <button class="btn btn-default" (click)="modalRef.hide()">No</button>
                          </li>
                          <li>
                            <!-- <button class="btn btn-primary" (click)="deleteDoc(data.supportingDocumentId)">Yes</button> -->
                            <button class="btn btn-primary" (click)="deleteDoc(data)" [disabled]="gifLoader">Yes <span
                                class="spinner-border spinner-border-own float-right" *ngIf="gifLoader" role="status"
                                aria-hidden="true"></span></button>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </ng-template>
                <!-- Delete Popup Html -->

              </td>




            </tr>



          </tbody>
        </table>
        <div class="gifLoaderDiv" *ngIf="gifLoader">
          <img src="../../../assets/images/gif-loader.gif" alt="">
        </div>

        <div class="noRecordDiv" *ngIf="clientDocList.length === 0 && gifLoader == false">
          <img src="../../../assets/images/noRecordImg.png" alt="">
          <h1>No Record Found</h1>
        </div>

        <!-- Delete Popup Html -->

        <ng-template #template1 class="conditionPopup" (onblur)="onConditionClose()" (onkeypress)="onConditionClose()"
          (onmousedown)="onConditionClose()" (onended)="onConditionClose()">
          <div class="modal-header">
            <h4 class="modal-title pull-left">Add Conditional Text</h4>
            <button type="button" class="close pull-right" aria-label="Close" (click)="onConditionClose()">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <form [formGroup]="conditionForm" (ngSubmit)="onConditionAdd()">
            <div class="modal-body">
              <div class="deleteModal">

                <div class="materialCondition">
                  <h5>Define Criteria</h5>
                  <div class="row">

                    <div class="col-4">
                      <mat-form-field class="d-block">
                        <mat-label>Select Field</mat-label>
                        <mat-select formControlName="conditionColumnName"
                          (selectionChange)="onTemplateVariableChange($event.value)" required>
                          <mat-option *ngFor="let dataTv of templateVariablesForConditionalText"
                            [value]="dataTv.columnName">
                            {{dataTv.columnDisplayName }}
                          </mat-option>
                        </mat-select>
                        <mat-error *ngIf="checkCondtionalPopupError('conditionColumnName', 'required')">
                          Field is required
                        </mat-error>
                      </mat-form-field>
                    </div>

                    <div class="col-4">
                      <mat-form-field class="d-block">
                        <mat-label>Condition</mat-label>
                        <mat-select formControlName="condition">
                          <mat-option *ngFor="let cond of conditions" [value]="cond">
                            {{cond}}
                          </mat-option>
                        </mat-select>
                        <mat-error *ngIf="checkCondtionalPopupError('condition', 'required')">
                          Condition is required
                        </mat-error>
                      </mat-form-field>
                    </div>

                    <div class="col-4">
                      <mat-form-field class="d-block">
                        <mat-label>Add Value</mat-label>
                        <input matInput formControlName="conditionValue" type="text" placeholder="Add Value" required>
                        <mat-error *ngIf="checkCondtionalPopupError('conditionValue', 'required')">
                          Value is required
                        </mat-error>
                      </mat-form-field>
                    </div>

                    <div class="col-12">
                      <mat-form-field class="d-block">
                        <mat-label>Conditional Description</mat-label>
                        <textarea matInput formControlName="conditionResultTextArea" #txtInput required
                          name="conditionResultTextArea" placeholder="Add Your Conditional Text Here"></textarea>
                        <mat-error *ngIf="checkCondtionalPopupError('conditionResultTextArea', 'required')">
                          Conditional Text is required
                        </mat-error>
                      </mat-form-field>
                    </div>

                  </div>
                </div>
                <div class="bothButons">
                  <ul>
                    <li>+ Conditional text will only be included in the document if define criteria is matched </li>
                    <li>
                      <button class="btn btn-primary">Add</button>
                      <!-- <button class="btn btn-primary" (click)="deleteDoc(data.supportingDocumentId)"
          [disabled]="loadingforgot">Yes <span
            class="spinner-border spinner-border-own float-right" *ngIf="loadingforgot"
            role="status" aria-hidden="true"></span></button> -->
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </form>
        </ng-template>
        <!-- Delete Popup Html -->


        <!-- <div class="gifLoaderDiv" *ngIf="gifLoader">
          <img src="../../../assets/images/gif-loader.gif" alt="">
        </div>


        <div class="noRecordDiv" *ngIf="checkList.length === 0 && gifLoader == false">
          <img src="../../../assets/images/noRecordImg.png" alt="">
          <h1>No Record Found</h1>
        </div> -->


        <!-- Template Slider -->
        <div class="LowVisibilityDiv templateSlider">
          <div class="FormDivPopup" id="edit-sec-scroll">


            <form [formGroup]="clientDocumentTemplateForm"
              (ngSubmit)="onSaveClientDocumentTemplate(clientDocumentTemplateForm.value,false, null)" #f="ngForm"
              #aForm>
              <div class="formInerDiv">
                <div class="row">
                  <div class="col-3">
                    <h4 class="textCenter fz-18 ebold" >Template Detail</h4>
                    <br />
                    <div class="row">
                      <input placeholder="Document Id" type="hidden" name="nothing11"
                        formControlName="clientDocumentTemplateId">
                      <div class="col-12">
                        <div class="FieldBox">
                          <mat-form-field class="d-block">
                            <mat-label>Document Template Name</mat-label>
                            <input matInput formControlName="documentTemplateName" name="nothing12" required
                              [readonly]="isView">
                            <mat-error *ngIf="checkErrorForclientDocTemplateForm('documentTemplateName', 'required')">
                              Document template name is required
                            </mat-error>
                            <mat-error *ngIf="checkErrorForclientDocTemplateForm('documentTemplateName', 'maxlength')">
                              Document template name should be less
                              than 100</mat-error>
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="col-12">
                        <div class="FieldBox">
                          <mat-form-field class="d-block">
                            <mat-label>Document Category Type</mat-label>
                            <mat-select formControlName="documentCategoryTypeId"
                              (selectionChange)="onCategoryChange($event)" name="nothing33" required
                              [disabled]="isView">
                              <mat-option *ngFor="let dataPr of documentCategoryTypes"
                                [value]="dataPr.documentCategoryTypeId">
                                {{dataPr.documentCategoryTypeName}}
                              </mat-option>
                            </mat-select>
                            <mat-error *ngIf="checkErrorForclientDocTemplateForm('documentCategoryTypeId', 'min')">
                              Document Category Type is not selected
                            </mat-error>
                          </mat-form-field>
                        </div>
                      </div>


                      <div class="col-12">
                        <div class="FieldBox">
                          <mat-form-field class="d-block">
                            <mat-label>Document Type</mat-label>
                            <mat-select formControlName="documentTypeId" name="nothing2" required [disabled]="isView">
                              <mat-option *ngFor="let dataPr of documentTypes" [value]="dataPr.documentTypeId">
                                {{dataPr.documentTypeName}}
                              </mat-option>
                            </mat-select>
                            <mat-error *ngIf="checkErrorForclientDocTemplateForm('documentTypeId', 'required')">Document
                              Type
                              is not selected
                            </mat-error>
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="col-12">
                        <div class="FieldBox">
                          <input type="number" hidden formControlName="templateTypeId" />
                        </div>
                      </div>

                      <div class="col-12">
                        <div class="FieldBox">
                          <mat-form-field class="d-block">
                            <mat-label>Document Description</mat-label>
                            <textarea matInput placeholder="Docuemnt template description"
                              formControlName="documentTemplateDescription" [readonly]="isView"></textarea>
                          </mat-form-field>
                        </div>
                      </div>
                    </div>

                  </div>

                  <div class="col-9 bdpd">
                    <h4 class="textCenter fz-18 ebold">Template Editor</h4>
                    <div class="editorBox">

                      <div class="absoluteBtns">
                        <div class="btn-group" dropdown [isDisabled]="isView || !templateVariableFound" *ngIf="templateVariableFound">
                          <button id="button-basic" dropdownToggle type="button" class="btn btn-primary dropdown-toggle"
                            aria-controls="dropdown-basic">
                            Select Template Variable <span class="caret"></span>
                          </button>
                          <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu" role="menu"
                            aria-labelledby="button-basic">
                            <li role="menuitem">
                              <a class="dropdown-item" href="JavaScript:void(0);"
                                (click)="addTemplateVariableToEditor(dataTv.columnName)"
                                *ngFor="let dataTv of templateVariables">
                                {{ dataTv.columnDisplayName }}
                              </a>
                            </li>
                          </ul>
                        </div>
                        <!-- <button class="btn btn-primary" type="button"  (click)="openConditionalSlider()"
                          *ngIf="templateVariableFound" [disabled]="isView || !templateVariableFound">Conditional
                          Text</button> -->

                        <!-- New Conditional Text Button HTml -->
                        <div class="btn-group customFilterBtn" placement="right" dropdown #dropdown="bs-dropdown" [insideClick]="true" *ngIf="templateVariableFound" [isDisabled]="isView || !templateVariableFound">
                          <button id="button-alignments" dropdownToggle type="button" class="btn btn-primary dropdown-toggle" aria-controls="dropdown-alignment">
                            Conditional Text
                          </button>
                          <ul id="dropdown-alignment" *dropdownMenu class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="button-alignments" id="style-2">
                            <li role="menuitem" *ngFor="let condition of conditionList" >
                              <p> <a  (click)="selectCondition(condition)" href="JavaScript:void(0);"> {{condition.conditionName}} </a>
                                <i class="fa fa-pencil-square-o float-right" aria-hidden="true"  (click)="updateCondition(condition)"></i>
                              </p>
                            </li>
                            <li role="menuitem" *ngIf="conditionList.length<=0">
                              <p> 
                                 No Conditional Text
                              </p>
                            </li>
                            <hr>
                            <h3 (click)="AddCondition()">Add Conditional Text</h3>
                          </ul>
                        </div>
                        <!-- New Conditional Text Button HTml -->


                      </div>

                      <angular-editor formControlName="documentTemplateContent" name="nothing16" 
                        [placeholder]="'Enter text here...'" [(ngModel)]="htmlContent" ngDefaultControl
                        [config]="editorConfig" required #txtArea></angular-editor>
                      <mat-error class="CustomErrorStyle" *ngIf="documentTemplateContentValidationFailed">Document
                        template content is required
                      </mat-error>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col">
                    <div class="btnDivs">
                      <button class="btn btn-primary"
                        *ngIf="SaveConfigureSettingVariable  && permissions.OMDCDSV == true"
                        (click)="onSaveClientDocumentTemplate(clientDocumentTemplateForm.value,true, 'configurationType')"
                        [disabled]="gifLoaderConfig" type="submit"> <span
                          class="spinner-border spinner-border-own float-right" *ngIf="gifLoaderConfig" role="status"
                          aria-hidden="true"> </span> Save & Configure Settings </button>

                      <button class="btn btn-default" (click)="closeTemplateSlider()">Cancel</button>
                      <!-- <button class="btn btn-primary" (click)="onSaveClientDocumentTemplate()">Save</button> -->
                      <button class="btn btn-primary"
                        (click)="onSaveClientDocumentTemplate(clientDocumentTemplateForm.value, true, 'saveType')"
                        [disabled]="gifLoader" [hidden]="isView" type="submit"> <span
                          class="spinner-border spinner-border-own float-right" *ngIf="gifLoader" role="status"
                          aria-hidden="true"> </span> Save
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </form>




            <button class="btn btn-default btn-close"><i class="fa fa-times" aria-hidden="true"
                (click)="closeTemplateSlider()"></i></button>
          </div>
        </div>
        <!-- Template Slider -->






        <!-- Upload Slider -->
        <div class="LowVisibilityDiv uploadSlider">
          <div class="FormDivPopup" id="edit-sec-scroll">
            <h4 class="textCenter fz-18 ebold">Upload</h4>
            <br />
            <div class="formInerDiv">
              <form [formGroup]="clientDocCustomForm">
                <div class="row">
                  <div class="col-12">
                    <div class="form-row">
                      <input placeholder="Document Id" type="hidden" name="nothing1" formControlName="documentId">

                      <div class="col-12">
                        <div class="FieldBox">
                          <mat-form-field class="d-block">
                            <mat-label>Document Category Type</mat-label>
                            <mat-select formControlName="documentCategoryTypeId"
                              (selectionChange)="onCategoryChange($event)" name="nothing33" required
                              [disabled]="isView">
                              <mat-option *ngFor="let dataPr of documentCategoryTypes"
                                [value]="dataPr.documentCategoryTypeId">
                                {{dataPr.documentCategoryTypeName}}
                              </mat-option>
                            </mat-select>
                            <mat-error *ngIf="checkErrorForclientDocCustomForm('documentCategoryTypeId', 'min')">
                              Document Category Type is not selected
                            </mat-error>
                          </mat-form-field>
                        </div>
                      </div>


                      <div class="col-12">
                        <div class="FieldBox">
                          <mat-form-field class="d-block">
                            <mat-label>Document Type</mat-label>
                            <mat-select formControlName="documentTypeId" name="nothing2" required [disabled]="isView">
                              <mat-option *ngFor="let dataPr of documentTypes" [value]="dataPr.documentTypeId">
                                {{dataPr.documentTypeName}}
                              </mat-option>
                            </mat-select>
                            <mat-error *ngIf="checkErrorForclientDocCustomForm('documentTypeId', 'min')">Document Type
                              is not selected
                            </mat-error>
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="col-12">
                        <div class="FieldBox">
                          <mat-form-field class="d-block">
                            <mat-icon matSuffix></mat-icon>
                            <mat-label>Document Name</mat-label>
                            <input matInput formControlName="documentName" name="nothing3" required [readonly]="isView">
                            <mat-error *ngIf="checkErrorForclientDocCustomForm('documentName', 'required')">Document
                              name is required
                            </mat-error>
                            <mat-error *ngIf="checkErrorForclientDocCustomForm('documentName', 'maxlength')">Document
                              name should be less
                              than 100</mat-error>
                          </mat-form-field>
                        </div>
                      </div>


                      <div class="col-12">
                        <div class="FieldBox">
                          <mat-form-field class="d-block">
                            <mat-label>Document Description</mat-label>
                            <textarea matInput formControlName="documentDescription" name="nothing4"
                              [readonly]="isView"></textarea>
                            <mat-error *ngIf="checkErrorForclientDocCustomForm('documentDescription', 'maxlength')">
                              Document description
                              should be less than 1000 characters</mat-error>
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="col-12">
                        <div class="FieldBox fileUploaderStyleClass">
                          <mat-form-field floatPlaceholder="never" class="d-block">
                            <input [hidden]="true" formControlName="file" (change)="onFileSelect($event)"
                              name="nothing5" type="file" accept="" #fileSelect [readonly]='isView'>
                            <input readonly matInput [(ngModel)]="filename" ngDefaultControl name="nothing6"
                              [ngModelOptions]="{standalone: true}" placeholder="Click Here to Upload"
                              (click)="fileSelect.click();" [disabled]="isView" />
                            <button *ngIf="this.base64File" (click)="removeDocument()" matSuffix
                              matTooltip="Remove selected file" [matTooltipPosition]="'above'" type="button"
                              color="warn" mat-icon-button [hidden]="isView">
                              <mat-icon>close</mat-icon>
                            </button>
                            <!-- <button matSuffix mat-icon-button class="disabled"  type="" matTooltip="Select a file"
                              [matTooltipPosition]="'above'">
                              <mat-icon>file_upload</mat-icon>
                            </button> -->
                            <mat-icon matSuffix>file_upload</mat-icon>
                          </mat-form-field>
                          <mat-error *ngIf="fileError == true" class="fileEror">Document is required</mat-error>
                        </div>
                      </div>


                    </div>
                  </div>
                </div>
                <div class="row justify-content-center">
                  <button class="btn btn-primary mr-1"
                    *ngIf="(this.btnHeading == 'Add' || this.btnHeading == 'Save')  && this.SaveConfigureSettingVariable == true"
                    (click)="onSave(clientDocCustomForm.value, 'config')" [disabled]="gifLoaderConfig" type="submit">
                    <span class="spinner-border spinner-border-own float-right" *ngIf="gifLoaderConfig" role="status"
                      aria-hidden="true"> </span> Save & Configure Settings </button>

                  <button class="btn btn-primary" [disabled]="gifLoader" type="submit" [hidden]="isView"
                    (click)="onSave(clientDocCustomForm.value, 'save')"> <span
                      class="spinner-border spinner-border-own float-right" *ngIf="gifLoader" role="status"
                      aria-hidden="true"> </span> {{btnHeading}}
                  </button>
                </div>
              </form>
            </div>


            <button class="btn btn-default btn-close"><i class="fa fa-times" aria-hidden="true"
                (click)="closeUploadSlider()"></i></button>
          </div>
        </div>
        <!-- Upload Slider -->



        <!-- Pdf Slider -->
        <div class="LowVisibilityDiv pdfSlider">
          <div class="FormDivPopup" id="edit-sec-scroll">
            <div class="pdfShowDiv">
              <pdf-viewer [src]="reportUrl" [original-size]="false" [show-all]="true"
                [render-text-mode]="1" [autoresize]="true" [render-text]="true"></pdf-viewer>
            </div>

            <button class="btn btn-default btn-close"><i class="fa fa-times" aria-hidden="true"
                (click)="closePDFSlider()"></i></button>
          </div>
        </div>
        <!-- Pdf Slider -->





        <!-- Conditional Slider -->
        <div class="LowVisibilityDiv conditionalSlider">
          <div class="FormDivPopup" id="edit-sec-scroll">


            <div class="tabSSetting">
              <h4 class="textCenter fz-20 ebold">Conditions</h4>

    

              <div class="row">
                <div class="col-12">
                  <div class="mainTabDivContent">
                    <div class="topRow row">

                      <div class="col-6">
                        <div class="FieldBox">
                          <mat-form-field class="d-block">
                            <mat-icon matSuffix></mat-icon>
                            <mat-label>Enter Condition Name</mat-label>
                            <input matInput [(ngModel)]="currentConditionModel.conditionName" required>
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="col-6">
                        <div class="FieldBox">
                          <mat-form-field class="d-block">
                            <mat-label>Select Criteria</mat-label>
                            <mat-select  [(ngModel)]="currentConditionModel.criteria" (selectionChange)="criteriaChange($event.value)" required>
                              <mat-option *ngFor="let dataTv of templateVariablesForConditionalText"
                               [value]="dataTv.columnName">
                                {{dataTv.columnDisplayName }}
                               </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                      </div>

                    </div>

                    <div class="row additionAppendDiv" *ngFor="let criteria of currentConditionModel.criterias; let i = index">
                      <div class="col-12">
                        <div class="sltRowDiv">
                          <div class="FieldBox">
                          <mat-form-field class="d-block">
                            <mat-label>When</mat-label>
                            <mat-select [(ngModel)]="criteria.criteriaOperator" required>
                              <mat-option *ngFor="let cond of currentConditionModel.conditions" [value]="cond">
                                {{cond}}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                        </div>
                        <div class="sltRowDiv" *ngIf="currentConditionModel.dataType ==='string' && currentConditionModel.criteria !=='Property_Zip_Code'">
                          <div class="FieldBox">
                            <mat-form-field class="d-block">
                              <mat-label>Select Criteria Values</mat-label>
                              <mat-select multiple [(ngModel)]="criteria.criteriaValue" #selectData required>

                                <div class="select-all">
                                  <mat-checkbox color="primary" [(ngModel)]="criteria.allSelectedData"
                                    [ngModelOptions]="{standalone: true}" (change)="toggleAllSelectionData();">Select All
                                  </mat-checkbox>
                                </div>
      
                                <mat-option *ngFor="let criteriaValue of currentConditionModel.criteriaValues" [value]="criteriaValue.Id" (click)="optionClickData();">
                                  {{criteriaValue.Name}}
                                </mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div>
                        </div>
                        <div class="sltRowDiv"  *ngIf="currentConditionModel.dataType !=='string' || currentConditionModel.criteria ==='Property_Zip_Code'">
                          <div class="FieldBox">
                            <mat-form-field class="d-block">
                              <mat-label>Add Value</mat-label>
                              <input matInput [(ngModel)]="criteria.criteriaValue" type="text" placeholder="Add Value" required>
                            </mat-form-field>
                          </div>
                        </div>
                        <div class="txtRowDiv">
                          <div class="FieldBox">
                            <mat-form-field class="d-block">
                              <mat-label>Add Conditional Text Here </mat-label>
                              <textarea matInput [(ngModel)]="criteria.conditionalText" required></textarea>
                            </mat-form-field>
                          </div>
                        </div>
                      </div>

                      <i class="fa fa-trash" (click)="deleteCriteria(i)"></i>
                    </div>

                    <span (click)="addCriteria()">Add More Criteria</span>

                  </div>
                </div>
              </div>
            </div>

            <div class="btnDivSTab">
              <ul>
                <li>
                  <button class="btn btn-primary" (click)="conditionSave()">Save</button>
                </li>
                <li>
                  <button class="btn btn-default" (click)="closeConditionSlider()">Cancel</button>
                </li>

                <!-- <li>
                  <i class="fa fa-trash" (click)="conditionDelete()"></i>
                </li> -->
              </ul>
            </div>


            <button class="btn btn-default btn-close"><i class="fa fa-times" aria-hidden="true"
                (click)="closeConditionSlider()"></i></button>
          </div>
        </div>
        <!-- Conditional Slider -->

      </div>
    </div>
  </div>



</section>
